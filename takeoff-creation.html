<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Takeoff Creation | Vanir Volcano</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
      <link rel="stylesheet" href="tcreate.css" />

  </head>

  <body class="bg-gray-50 text-gray-800 flex">
    <!-- Sidebar -->
    <aside class="w-60 bg-white border-r border-gray-200 h-screen fixed left-0 top-0 flex flex-col">
      <div class="p-4 border-b flex items-center space-x-2">
        <img src="Logo.jpg" alt="Vanir Volcano" class="w-6 h-6" />
        <h1 class="font-semibold text-sm">Vanir Volcano</h1>
         <button
        id="logout-btn"
        class="text-sm text-red-600 font-semibold hover:underline"
      >
        Logout
      </button>
      </div>

     <nav class="flex-1 px-4 py-4 space-y-1 overflow-y-auto">
  <!-- Main Navigation -->
  <button id="nav-dashboard" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm bg-accent font-semibold transition">
    <span>ğŸ  Dashboard</span>
  </button>

  <button id="nav-takeoffs" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ“„ Takeoffs</span>
  </button>

  <button id="nav-builders" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ‘· Builders</span>
  </button>

  <button id="nav-communities" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ˜ï¸ Communities</span>
  </button>

  <button id="nav-sku-database" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ“¦ SKU Database</span>
  </button>

  <button id="nav-vendors" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ—ï¸ Vendors</span>
  </button>

  <button id="nav-reports" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ“Š Reports</span>
  </button>

  <button id="nav-recent-activity" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ•“ Recent Activity</span>
  </button>

  <!-- Admin Section -->
  <div class="pt-6 text-xs font-semibold text-muted-foreground uppercase tracking-wide">
    Administration
  </div>

  <button id="nav-user-management" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ‘¤ User Management</span>
  </button>

  <button id="nav-permission" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ›¡ï¸ Permission Management</span>
  </button>

  <button id="nav-color-group" class="w-full flex items-center space-x-3 px-3 py-2 rounded-md text-sm hover:bg-accent transition">
    <span>ğŸ¨ Color Group</span>
  </button>
</nav>


      <div class="p-3 border-t text-xs text-gray-500 text-center">
        Â© 2025 Vanir Installed Sales
      </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 ml-60 p-6">
      <!-- Header -->
      <div class="flex justify-between items-center mb-4">
        <div>
          <p class="text-xs text-gray-400">Dashboard &gt; Takeoff &gt; Takeoff Creation</p>
          <h1 class="text-xl font-semibold">Takeoff Creation</h1>
          <p class="text-sm text-gray-500">Create detailed construction takeoffs with intelligent line-item management</p>
        </div>
        <div class="flex items-center space-x-3">
          <div class="text-right">
            <p class="text-sm font-medium">Richard Mcgirt</p>
            <p class="text-xs text-gray-400">RM</p>
          </div>
        </div>
      </div>

      <!-- Form -->
     <!-- === IMPROVED TAKEOFF HEADER GRID === -->
<div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-10">

  <!-- Takeoff Name -->
  <div class="col-span-1 lg:col-span-2">
    <label class="form-label">Takeoff Name *</label>
    <input
      id="nameInput"
      type="text"
      class="form-input"
      placeholder=""
    />
  </div>

  <!-- Estimator -->
  <div>
    <label class="form-label">Estimator</label>
    <select id="estimator-select" class="form-input">
      <option value="">-- Select Estimator --</option>
    </select>
  </div>

  <!-- Takeoff Type -->
  <div>
    <label class="form-label">Takeoff Type *</label>
    <select id="takeoff-type" class="form-input">
      <option value="">Select</option>
      <option value="Base">Base</option>
      <option value="Option">Option</option>
    </select>
  </div>

  <!-- Builder -->
  <div>
    <label class="form-label">Builder *</label>
    <select id="builder-select" class="form-input">
      <option value="">Select Builder</option>
    </select>
  </div>

  <!-- Elevation + Add -->
  <div>
    <label class="form-label">Elevation *</label>
    <div class="flex gap-2">
      <select id="elevation-select" class="form-input flex-1">
        <option value="">Select Elevation</option>
      </select>
      <button id="add-elevation-btn" class="btn-blue-sm">+ Add</button>
    </div>
  </div>

  <!-- Save Buttons (right-align on large screens) -->
  <div class="flex items-end gap-3 col-span-1 lg:col-span-1">
    <button id="saveElevation" class="btn-gray-sm w-full">
      Save Elevation
    </button>
  </div>

  <div class="flex items-end col-span-1 lg:col-span-1">
    <button id="manual-save-btn" class="btn-blue w-full">
      ğŸ’¾ Save Takeoff
    </button>
  </div>

  <!-- Community -->
  <div class="col-span-1 md:col-span-3 lg:col-span-5">
    <label class="form-label">Community *</label>
    <select id="community-select" class="form-input">
      <option value="">Select a builder first</option>
    </select>
  </div>

</div>

      <!-- Placeholder OR Line Items Container -->
<div id="takeoff-content-container" class="mt-8">
  <!-- Placeholder (shown until fields are complete) -->
  <div id="placeholder-box" class="text-center py-16 border border-dashed border-gray-300 rounded-lg bg-gray-50 transition-all duration-300">
    <div class="flex justify-center mb-3">
      <span class="text-4xl">ğŸ“¦</span>
    </div>
    <h2 class="text-lg font-medium text-gray-700 mb-1">Ready to Create Takeoff</h2>
    <p class="text-sm text-gray-500">Complete the header selections above to begin adding line items.</p>
  </div>

  <!-- Line Items Table (hidden initially) -->
  <section id="line-items-section">
    <h2 class="text-lg font-semibold text-gray-700 mb-3">Takeoff Line Items</h2>


    <table class="min-w-full text-sm border-collapse border border-gray-200 rounded-md overflow-hidden">
      <thead class="bg-gray-100 border-b border-gray-200">
        <tr class="text-gray-600 text-xs uppercase tracking-wider">
          <th class="px-3 py-2 border">SKU</th>
          <th class="px-3 py-2 border">Description</th>
          <th class="px-3 py-2 border">UOM</th>
          <th class="px-3 py-2 border">Material Type</th>
          <th class="px-3 py-2 border">Color Group</th>
          <th class="px-3 py-2 border">Vendor</th>
          <th class="px-3 py-2 border">Quantity</th>
          <th class="px-3 py-2 border">Unit Cost</th>
          <th class="px-3 py-2 border">UOM Mult</th>
          <th class="px-3 py-2 border">Extended Cost</th>
          <th class="px-3 py-2 border">Margin %</th>
          <th class="px-3 py-2 border">Total Price</th>
          <th class="px-3 py-2 border">Action</th>
        </tr>
      </thead>
      <tbody id="line-item-body" class="text-gray-700"></tbody>
      <tfoot>
  <tr>
    <td colspan="11" class="text-right font-bold pr-3">Grand Total:</td>
    <td>
      <input id="grand-total" class="w-full font-bold" type="number" readonly value="0">
    </td>
    <td></td>
  </tr>
</tfoot>

    </table>

    <div class="mt-4">
      <button id="add-line-item" class="text-blue-600 text-sm border border-blue-500 px-3 py-1 rounded hover:bg-blue-50 flex items-center space-x-1">
        <span>â•</span> <span>Add Line Item</span>
      </button>
    </div>
  </section>
</div>
<div id="toast"
     style="
       position: fixed;
       bottom: 20px;
       right: 20px;
       padding: 12px 18px;
       background: #333;
       color: white;
       border-radius: 6px;
       opacity: 0;
       transition: opacity 0.4s ease;
       z-index: 999999;
       pointer-events: none;">
</div>

    <!-- Scripts -->
<script type="module" src="js/nav.js"></script>
<script type="module" src="js/takeoff-builder.js"></script>
<script type="module" src="js/createtakeoff.js"></script>

<script src="js/upload.js"></script>
<script src="js/auth.js"></script>



  </body>
</html>
